<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Do-It-Yourself Publication - Open Reader's Bibles</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Do-It-Yourself Publication";
        var mkdocs_page_input_path = "DIY.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Open Reader's Bibles
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Reader's Bibles</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../good-glosses/">Good glosses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../frequency-thresholds/">Deciding on frequency thresholds</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../readersbibles/">Reader’s Bibles and Interlinear Bibles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../glossary/">Glossary of Terms</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User's Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../workspace/">The Workspace</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../glosses-votes/">Glosses & Votes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gloss-types/">Adding Glosses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../markdown/">Markdown</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tips/">Tips</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Project Settings</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../project-settings/general-settings/">General Settings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../project-settings/canons/">Canons</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../project-settings/parsing-formats/">Parsing Formats</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../project-settings/publication-configurations/">Publication Configurations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../project-settings/project-members/">Project Members</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Publication</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../preparing-to-publish/">Preparing to Publish</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../publication-overview/">Publishing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fonts/">Fonts</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../project-settings/power-users/">Power Users</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Do-It-Yourself Publication</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#what-do-i-need-to-understand">What do I need to understand?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-project-repository">The project repository</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#types-of-files-youll-find">Types of files you&rsquo;ll find</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#making-tex-and-html-files">Making TeX and HTML files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#using-typescript">Using TypeScript</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#guide-to-the-macros">Guide to the macros</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../about/">About the project</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../license/">License</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../credits/">Credits</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../security/">Security</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Open Reader's Bibles</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Advanced</li>
      <li class="breadcrumb-item active">Do-It-Yourself Publication</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="how-to-publish-it-yourself">How to publish it yourself</h1>
<p>This page assumes that you have some technical background. If that&rsquo;s not you, no problem! You may want to read the <a href="../publication-overview/">publication overview</a> instead, which will allow you to customize a great deal without having to do anything technical.</p>
<h2 id="what-do-i-need-to-understand">What do I need to understand?</h2>
<p>This page assumes a very basic familiarity with GitHub and a working knowledge of XeLaTeX. If you&rsquo;re not familiar with XeLaTeX: it&rsquo;s a computer typesetting system that creates PDF files. There are plenty of resources online to learn, but it does have a rather steep learning curve. (If you have friends in mathematics, science, or engineering, they may be familiar with it.)</p>
<h2 id="the-project-repository">The project repository</h2>
<p>If you want to publish the books on your own, you&rsquo;ll want to get ahold of those files. There are two ways you can get to the GitHub repository:</p>
<ol>
<li>The name of the repository follows a fixed format. It&rsquo;s always <code>pub-XXXXX</code> where <code>XXXXX</code> is the project ID. For instance, for the <code>bhsa</code> project, you can find the repository at <a href="https://github.com/openreadersbibles/pub-bhsa">https://github.com/openreadersbibles/pub-bhsa</a>.</li>
<li>From the “Projects” screen, click the “Advanced&hellip;” button and then “GitHub.” The repository&rsquo;s GitHub page will open in a new window.</li>
</ol>
<h2 id="types-of-files-youll-find">Types of files you&rsquo;ll find</h2>
<p>The data for the project are stored in a SQL database in the cloud. During publication, the data for each book are put into two intermediate formats.</p>
<p>Different files are created for each book. The filenames have formats like <code>bhsa_OT_JON.xml</code>: <code>bhsa</code> is the project ID, <code>OT</code> is the canon, and <code>JON</code> is the book code (for Jonah). For the book of Jonah, we would get two data files:</p>
<ol>
<li><code>bhsa_OT_JON.json</code> contains raw(-ish) JSON data. (See “Using the TypeScript” below for help in using this.)</li>
<li><code>bhsa_OT_JON.xml</code> is an XML representation of the book in <a href="https://tei-c.org/">TEI format</a>.</li>
</ol>
<p><code>bhsa_OT_JON.json</code> is placed in the root directory of the publication repository. <code>bhsa_OT_JON.xml</code>, however, will be in a subfolder specific to the <a href="../project-settings/publication-configurations/">publication configuration</a>. (The location for the default publication configuration is <code>default/bhsa_OT_JON.xml</code>.)</p>
<p>These files differ in their contents. The JSON file is more or less raw data from the database. There are columns that represent parsing data, for instance. The XML file, on the other hand, doesn&rsquo;t have all of the raw data but includes parsing information that is created by a particular publication configuration. </p>
<p>Here is the JSON content of a certain word in Obadiah 1:11:</p>
<pre><code>    {
      &quot;_id&quot;: 298325,
      &quot;g_word_utf8&quot;: &quot;שְׁבֹ֥ות&quot;,
      &quot;trailer_utf8&quot;: &quot; &quot;,
      &quot;voc_lex_utf8&quot;: &quot;שׁבה&quot;,
      &quot;gn&quot;: &quot;unknown&quot;,
      &quot;nu&quot;: &quot;unknown&quot;,
      &quot;st&quot;: &quot;c&quot;,
      &quot;vt&quot;: &quot;infc&quot;,
      &quot;vs&quot;: &quot;qal&quot;,
      &quot;ps&quot;: &quot;unknown&quot;,
      &quot;pdp&quot;: &quot;verb&quot;,
      &quot;freq_lex&quot;: 47,
      &quot;gloss&quot;: {
        &quot;type&quot;: &quot;word&quot;,
        &quot;_gloss&quot;: &quot;take captive&quot;
      },
      &quot;qere_utf8&quot;: &quot;&quot;,
      &quot;kq_hybrid_utf8&quot;: &quot;&quot;,
      &quot;prs_gn&quot;: &quot;NA&quot;,
      &quot;prs_nu&quot;: &quot;NA&quot;,
      &quot;prs_ps&quot;: &quot;NA&quot;,
      &quot;reference&quot;: &quot;OT OBA 1:11&quot;,
      &quot;lex_id&quot;: 1438314,
      &quot;phrasalGlosses&quot;: []
    },
</code></pre>
<p>You can see that the field <code>vt</code> (=verb tense) has <code>infc</code> (=infinitive construct). This is unformatted data.</p>
<p>The XML file, on the other hand, contains data that is specific to a particular publication configuration.</p>
<pre><code>&lt;w xml:id=&quot;id298325&quot;&gt;שְׁבֹ֥ות&lt;/w&gt;
&lt;note type=&quot;gloss&quot; n=&quot;b&quot;&gt;
    &lt;gloss type=&quot;parsing&quot;&gt;G65&lt;/gloss&gt;
    &lt;gloss type=&quot;lexical-form&quot;&gt;שׁבה&lt;/gloss&gt;
    &lt;gloss type=&quot;gloss&quot;&gt;take captive&lt;/gloss&gt;
&lt;/note&gt;
</code></pre>
<p>The formatted parsing “G65” indicates a qal infinitive construct. The note marker “b” (from <code>n="b"</code>) comes from a publication configuration. A different project might format that parsing in a completely different way.</p>
<h2 id="making-tex-and-html-files">Making TeX and HTML files</h2>
<p>Then XSLT transformations are used to create <code>.tex</code> and <code>.html</code> files from the <code>.xml</code> file.</p>
<ul>
<li><code>bhsa_OT_JON.html</code> is created by <a href="https://github.com/openreadersbibles/orb-server/blob/main/src/xslt/tei2html.xsl">tei2html.xsl</a>.</li>
<li><code>bhsa_OT_JON.tex</code> is created by <a href="https://github.com/openreadersbibles/orb-server/blob/main/src/xslt/tei2tex.xsl">tei2tex.xsl</a>.</li>
</ul>
<p>Then a GitHub Action converts the <code>.tex</code> file into a PDF.</p>
<p>If you are investigating a problem in the build, you could also switch to the <code>gh-pages</code> branch of the repository, and examine the <code>bhsa_OT_JON.log</code> file.</p>
<h2 id="using-typescript">Using TypeScript</h2>
<p>Even if you just want the data, it may be helpful to have the types that the project uses. The relevant repositories for managing the publication process are <a href="https://github.com/openreadersbibles/orb-server">orb-server</a> and <a href="https://github.com/openreadersbibles/models">models</a>. If you want to do TypeScript development, you probably want the data in those files.</p>
<p>The relative paths in the files assume that <code>models</code> and <code>orb-server</code> are at the same level. E.g.,</p>
<pre><code>/my-custom-project
/my-custom-project/models
/my-custom-project/orb-server
</code></pre>
<p>For instance, the <code>.json</code> file can be read and then used to create a <a href="https://github.com/openreadersbibles/models/blob/main/publication/PublicationBook.ts">PublicationBook</a> object.</p>
<h2 id="guide-to-the-macros">Guide to the macros</h2>
<p>Forthcoming&hellip;</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../project-settings/power-users/" class="btn btn-neutral float-left" title="Power Users"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../about/" class="btn btn-neutral float-right" title="About the project">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../project-settings/power-users/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../about/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
